<!DOCTYPE html>
<html>
  <head>
    <!-- meta information -->
<meta charset="utf-8">
<meta name="description" 
      content="Here's the taxize screencast!Follow along below in your favorite R client.taxize screencast==========## Intro> Hi, I'..." >
<meta name="author" content="Scott Chamberlain">

<!-- Enable responsiveness on mobile devices-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<!-- title -->
<title>taxize &middot; rOpenSci</title>

<!-- icons -->
<link rel="shortcut icon" href="/screencasts/public/images/ropensci_favicon.ico" />

<!-- stylesheets -->
<link rel="stylesheet" href="/screencasts/public/css/responsive.gs.12col.css">
<link rel="stylesheet" href="/screencasts/public/css/animate.min.css">
<link rel="stylesheet" href="/screencasts/public/css/main.css">

<!-- Google fonts -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic&subset=latin-ext">



<!-- feed links -->
<link rel="alternate" href="http://ropensci.github.io/screencasts/feed.xml" type="application/rss+xml" title="">

  </head>
  <body>
    <div class="container azul">
      <header class="top row gutters">
        <div class="col span_2 center">
          <!-- TODO: add baseurl to the logo link -->
          <a href="http://ropensci.github.io/screencasts" id="logo" title="rOpenSci"
             style="background-image: url(/screencasts/public/images/ropensci_small.png);"></a>
        </div>
        <nav class="col span_10 top-navbar">
  
  <a href="/screencasts/" title="Home"
     >Home</a>
  
  <a href="/screencasts/about/" title="About"
     >About</a>
  
</nav>

      </header>

      <article class="single row gutters">
  <!-- <time class="published" datetime="2015-02-16">16 February 2015</time> -->
  <h2>taxize</h2>

  <p>Here&#39;s the taxize screencast!</p>

<p>Follow along below in your favorite R client.</p>

<iframe src="//player.vimeo.com/video/92883063" width="600" height="381" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>

<h1>taxize screencast</h1>

<h2>Intro</h2>

<blockquote>
<p>Hi, I&#39;m Scott Chamberlain</p>

<p>In this screencast, I&#39;ll do a brief intoduction to the taxize package - a taxonomic toolbelt for R</p>

<p>You can install taxize from <a href="http://cran.r-project.org/web/packages/taxize/index.html">CRAN</a>, or install the <a href="https://github.com/ropensci/taxize">development version from GitHub</a>.</p>

<p>taxize interacts with about 20 data sources</p>
</blockquote>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
  <th style="text-align:left;">Souce</th>
  <th style="text-align:left;">Function prefix</th>
  <th style="text-align:left;">API Docs</th>
  <th style="text-align:left;">API key</th>
  <th style="text-align:left;"><em>soap branch only</em></th>
</tr>
</thead>

<tbody>
<tr>
  <td style="text-align:left;">Encylopedia of Life</td>
  <td style="text-align:left;"><code>eol</code></td>
  <td style="text-align:left;"><a href="http://www.eol.org/api/">link</a></td>
  <td style="text-align:left;"><a href="http://eol.org/users/register">link</a></td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Taxonomic Name Resolution Service</td>
  <td style="text-align:left;"><code>tnrs</code></td>
  <td style="text-align:left;"><a href="http://api.phylotastic.org/tnrs">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Integrated Taxonomic Information Service</td>
  <td style="text-align:left;"><code>itis</code></td>
  <td style="text-align:left;"><a href="http://www.itis.gov/ws_description.html">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Phylomatic</td>
  <td style="text-align:left;"><code>phylomatic</code></td>
  <td style="text-align:left;"><a href="http://www.phylodiversity.net/phylomatic/phylomatic_api.html">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">uBio</td>
  <td style="text-align:left;"><code>ubio</code></td>
  <td style="text-align:left;"><a href="http://www.ubio.org/index.php?pagename=xml_services">link</a></td>
  <td style="text-align:left;"><a href="http://www.ubio.org/index.php?pagename=form">link</a></td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Global Names Resolver</td>
  <td style="text-align:left;"><code>gnr</code></td>
  <td style="text-align:left;"><a href="http://resolver.globalnames.org/api">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Global Names Index</td>
  <td style="text-align:left;"><code>gni</code></td>
  <td style="text-align:left;"><a href="https://github.com/dimus/gni/wiki/api">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">IUCN Red List</td>
  <td style="text-align:left;"><code>iucn</code></td>
  <td style="text-align:left;"><a href="https://www.assembla.com/spaces/sis/wiki/Red_List_API?version=3">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Tropicos</td>
  <td style="text-align:left;"><code>tp</code></td>
  <td style="text-align:left;"><a href="http://services.tropicos.org/help">link</a></td>
  <td style="text-align:left;"><a href="http://services.tropicos.org/help?requestkey">link</a></td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Plantminer</td>
  <td style="text-align:left;"><code>plantminer</code></td>
  <td style="text-align:left;"><a href="http://www.plantminer.com/help">link</a></td>
  <td style="text-align:left;"><a href="http://www.plantminer.com/help">link</a></td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Theplantlist dot org</td>
  <td style="text-align:left;"><code>tpl</code></td>
  <td style="text-align:left;">**</td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Catalogue of Life</td>
  <td style="text-align:left;"><code>col</code></td>
  <td style="text-align:left;"><a href="http://www.catalogueoflife.org/colwebsite/content/web-services">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Global Invasive Species Database</td>
  <td style="text-align:left;"><code>gisd</code></td>
  <td style="text-align:left;">***</td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">National Center for Biotechnology Information</td>
  <td style="text-align:left;"><code>ncbi</code></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">CANADENSYS Vascan name search API</td>
  <td style="text-align:left;"><code>vascan</code></td>
  <td style="text-align:left;"><a href="http://data.canadensys.net/vascan/api">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">International Plant Names Index (IPNI)</td>
  <td style="text-align:left;"><code>ipni</code></td>
  <td style="text-align:left;"><a href="http://www.ipni.org/link_to_ipni.html">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">World Register of Marine Species (WoRMS)</td>
  <td style="text-align:left;"><code>worms</code></td>
  <td style="text-align:left;"><a href="http://www.marinespecies.org/aphia.php?p=webservice">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;"><strong>TRUE</strong></td>
</tr>
<tr>
  <td style="text-align:left;">Barcode of Life Data Systems (BOLD)</td>
  <td style="text-align:left;"><code>bold</code></td>
  <td style="text-align:left;"><a href="http://www.boldsystems.org/index.php/Resources">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
<tr>
  <td style="text-align:left;">Pan-European Species directories Infrastructure (PESI)</td>
  <td style="text-align:left;"><code>pesi</code></td>
  <td style="text-align:left;"><a href="http://www.eu-nomen.eu/portal/webservices.php">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;"><strong>TRUE</strong></td>
</tr>
<tr>
  <td style="text-align:left;">Mycobank</td>
  <td style="text-align:left;"><code>myco</code></td>
  <td style="text-align:left;"><a href="http://www.mycobank.org/Services/Generic/Help.aspx?s=searchservice">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;"><strong>TRUE</strong></td>
</tr>
<tr>
  <td style="text-align:left;">National Biodiversity Network (UK)</td>
  <td style="text-align:left;"><code>nbn</code></td>
  <td style="text-align:left;"><a href="https://data.nbn.org.uk/Documentation/Web_Services/Web_Services-REST/resources/restapi/rest.html">link</a></td>
  <td style="text-align:left;">none</td>
  <td style="text-align:left;">false</td>
</tr>
</tbody>
</table>

<blockquote>
<p>More will be added in the future</p>

<p>Taxonomic names are something many biologists have to deal with</p>

<p>I&#39;ll walk you through a variety of things you can do with taxize</p>
</blockquote>

<h2>Installation and load</h2>
<div class="highlight"><pre><code class="language-r" data-lang="r">install.packages<span class="p">(</span><span class="s">&quot;taxize&quot;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kn">library</span><span class="p">(</span>taxize<span class="p">)</span>
</code></pre></div>
<h2>Taxonomic identifiers</h2>
<div class="highlight"><pre><code class="language-r" data-lang="r">get_ids<span class="p">(</span>names<span class="o">=</span><span class="s">&quot;Chironomus riparius&quot;</span><span class="p">,</span> db <span class="o">=</span> <span class="s">&#39;ncbi&#39;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">## $ncbi
## Chironomus riparius
##            &quot;315576&quot;
## attr(,&quot;match&quot;)
## [1] &quot;found&quot;
## attr(,&quot;uri&quot;)
## [1] &quot;http://www.ncbi.nlm.nih.gov/taxonomy/315576&quot;
## attr(,&quot;class&quot;)
## [1] &quot;uid&quot;
##
## attr(,&quot;class&quot;)
## [1] &quot;ids&quot;
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r">get_ids<span class="p">(</span>names<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;Chironomus riparius&quot;</span><span class="p">,</span> <span class="s">&quot;Poa annua&quot;</span><span class="p">),</span> db <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;ncbi&#39;</span><span class="p">,</span><span class="s">&#39;itis&#39;</span><span class="p">,</span><span class="s">&#39;col&#39;</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">##      colid      name    rank        status
## 1  9791858 Poa annua Species accepted name
## 2 10003530 Poa annua Species       synonym
##                                             source    acc_name
## 1 WCSP: World Checklist of Selected Plant Families        &lt;NA&gt;
## 2 WCSP: World Checklist of Selected Plant Families Poa infirma
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">## $ncbi
## Chironomus riparius           Poa annua
##            &quot;315576&quot;             &quot;93036&quot;
## attr(,&quot;match&quot;)
## [1] &quot;found&quot; &quot;found&quot;
## attr(,&quot;uri&quot;)
## [1] &quot;http://www.ncbi.nlm.nih.gov/taxonomy/315576&quot;
## [2] &quot;http://www.ncbi.nlm.nih.gov/taxonomy/93036&quot;
## attr(,&quot;class&quot;)
## [1] &quot;uid&quot;
##
## $itis
## Chironomus riparius           Poa annua
##            &quot;129313&quot;             &quot;41107&quot;
## attr(,&quot;match&quot;)
## [1] &quot;found&quot; &quot;found&quot;
## attr(,&quot;uri&quot;)
## [1] &quot;http://www.itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&amp;search_value=129313&quot;
## [2] &quot;http://www.itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&amp;search_value=41107&quot;
## attr(,&quot;class&quot;)
## [1] &quot;tsn&quot;
##
## $col
## Chironomus riparius           Poa annua
##           &quot;8663146&quot;           &quot;9791858&quot;
## attr(,&quot;class&quot;)
## [1] &quot;colid&quot;
## attr(,&quot;uri&quot;)
## [1] &quot;http://www.catalogueoflife.org/col/details/species/id/8663146&quot;
## [2] &quot;http://www.catalogueoflife.org/col/details/species/id/9791858&quot;
##
## attr(,&quot;class&quot;)
## [1] &quot;ids&quot;
</code></pre></div>
<h2>Hierarchies</h2>

<blockquote>
<p>and now taxonomic hieararchies</p>
</blockquote>
<div class="highlight"><pre><code class="language-r" data-lang="r">classification<span class="p">(</span><span class="s">&quot;Chironomus riparius&quot;</span><span class="p">,</span> db <span class="o">=</span> <span class="s">&#39;ncbi&#39;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">## $`Chironomus riparius`
##                         name         rank
## 1         cellular organisms      no rank
## 2                  Eukaryota superkingdom
## 3               Opisthokonta      no rank
## 4                    Metazoa      kingdom
## 5                  Eumetazoa      no rank
## 6                  Bilateria      no rank
## 7                Protostomia      no rank
## 8                  Ecdysozoa      no rank
## 9              Panarthropoda      no rank
## 10                Arthropoda       phylum
## 11               Mandibulata      no rank
## 12              Pancrustacea      no rank
## 13                  Hexapoda   superclass
## 14                   Insecta        class
## 15                Dicondylia      no rank
## 16                 Pterygota      no rank
## 17                  Neoptera     subclass
## 18             Endopterygota   infraclass
## 19                   Diptera        order
## 20                Nematocera     suborder
## 21              Culicomorpha   infraorder
## 22             Chironomoidea  superfamily
## 23              Chironomidae       family
## 24              Chironominae    subfamily
## 25               Chironomini        tribe
## 26                Chironomus        genus
## 27 Chironomus incertae sedis      no rank
## 28       Chironomus riparius      species
##
## attr(,&quot;class&quot;)
## [1] &quot;classification&quot;
## attr(,&quot;db&quot;)
## [1] &quot;ncbi&quot;
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r">classification<span class="p">(</span>get_uid<span class="p">(</span><span class="s">&quot;Chironomus riparius&quot;</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">## $`315576`
##                         name         rank
## 1         cellular organisms      no rank
## 2                  Eukaryota superkingdom
## 3               Opisthokonta      no rank
## 4                    Metazoa      kingdom
## 5                  Eumetazoa      no rank
## 6                  Bilateria      no rank
## 7                Protostomia      no rank
## 8                  Ecdysozoa      no rank
## 9              Panarthropoda      no rank
## 10                Arthropoda       phylum
## 11               Mandibulata      no rank
## 12              Pancrustacea      no rank
## 13                  Hexapoda   superclass
## 14                   Insecta        class
## 15                Dicondylia      no rank
## 16                 Pterygota      no rank
## 17                  Neoptera     subclass
## 18             Endopterygota   infraclass
## 19                   Diptera        order
## 20                Nematocera     suborder
## 21              Culicomorpha   infraorder
## 22             Chironomoidea  superfamily
## 23              Chironomidae       family
## 24              Chironominae    subfamily
## 25               Chironomini        tribe
## 26                Chironomus        genus
## 27 Chironomus incertae sedis      no rank
## 28       Chironomus riparius      species
##
## attr(,&quot;class&quot;)
## [1] &quot;classification&quot;
## attr(,&quot;db&quot;)
## [1] &quot;ncbi&quot;
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># out &lt;- get_ids(names=&quot;Poa annua&quot;, db = c(&#39;ncbi&#39;,&#39;itis&#39;,&#39;col&#39;,&#39;eol&#39;,&#39;tropicos&#39;))</span>
<span class="c1"># classification(out)</span>
</code></pre></div>
<h2>Check name spelling</h2>

<blockquote>
<p>Check name spelling</p>
</blockquote>
<div class="highlight"><pre><code class="language-r" data-lang="r">mynames <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Helianthus annus&quot;</span><span class="p">,</span> <span class="s">&quot;Poa anua&quot;</span><span class="p">,</span> <span class="s">&quot;Pinus contort&quot;</span><span class="p">)</span>
out <span class="o">&lt;-</span> tnrs<span class="p">(</span>query <span class="o">=</span> mynames<span class="p">,</span> <span class="kn">source</span><span class="o">=</span><span class="s">&quot;iPlant_TNRS&quot;</span><span class="p">)</span>
out<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">)]</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">##      submittedname      acceptedname    sourceid score       matchedname
## 1    Pinus contort    Pinus contorta iPlant_TNRS  0.98    Pinus contorta
## 2 Helianthus annus Helianthus annuus iPlant_TNRS  0.97 Helianthus annuus
## 3         Poa anua         Poa annua iPlant_TNRS  0.96         Poa annua
</code></pre></div>
<h2>Synonyms</h2>

<blockquote>
<p>Moving on to synonyms</p>

<p>The names you currently have in your dataset may be synonyms of real names, and you need to update to the accepted names</p>
</blockquote>
<div class="highlight"><pre><code class="language-r" data-lang="r">synonyms<span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;Poa annua&quot;</span><span class="p">,</span><span class="s">&#39;Pinus contorta&#39;</span><span class="p">,</span><span class="s">&#39;Puma concolor&#39;</span><span class="p">),</span> db<span class="o">=</span><span class="s">&quot;itis&quot;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">## $`Poa annua`
##                           name    tsn
## 1      Poa annua var. aquatica 538978
## 2       Poa annua var. reptans 538979
## 3                  Aira pumila 785854
## 4             Catabrosa pumila 787993
## 5               Ochlopoa annua 791574
## 6               Poa aestivalis 793946
## 7                   Poa algida 793954
## 8         Poa annua var. annua 802116
## 9     Poa annua var. eriolepis 802117
## 10 Poa annua var. rigidiuscula 802119
## 11        Poa annua f. reptans 803667
##
## $`Pinus contorta`
##      name    tsn
## 1 nomatch 183327
##
## $`Puma concolor`
##             name    tsn
## 1 Felis concolor 180587
</code></pre></div>
<h2>Downstream</h2>

<blockquote>
<p>Sometimes you just wann know &quot;what species are in this genus!!!&quot;</p>
</blockquote>
<div class="highlight"><pre><code class="language-r" data-lang="r">col_downstream<span class="p">(</span>name <span class="o">=</span> <span class="s">&quot;Apis&quot;</span><span class="p">,</span> downto<span class="o">=</span><span class="s">&quot;Species&quot;</span><span class="p">)[[</span><span class="m">1</span><span class="p">]]</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">##   childtaxa_id     childtaxa_name childtaxa_rank
## 1      6971712 Apis andreniformis        Species
## 2      6971713        Apis cerana        Species
## 3      6971714       Apis dorsata        Species
## 4      6971715        Apis florea        Species
## 5      6971716 Apis koschevnikovi        Species
## 6      6845885     Apis mellifera        Species
## 7      6971717   Apis nigrocincta        Species
</code></pre></div>
<h2>Common from scientific and vice versa</h2>

<blockquote>
<p>You may often need to get common names from scientific names, and vice versa. For example, maybe you need common names for a publication.</p>
</blockquote>
<div class="highlight"><pre><code class="language-r" data-lang="r">sci2comm<span class="p">(</span><span class="s">&quot;Quercus lobata&quot;</span><span class="p">,</span> db<span class="o">=</span><span class="s">&quot;itis&quot;</span><span class="p">,)</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">## $`Quercus lobata`
## [1] &quot;California white oak&quot; &quot;valley oak&quot;
</code></pre></div><div class="highlight"><pre><code class="language-r" data-lang="r">comm2sci<span class="p">(</span><span class="s">&quot;valley oak&quot;</span><span class="p">,</span> db<span class="o">=</span><span class="s">&quot;itis&quot;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-text" data-lang="text">## $`valley oak`
## [1] &quot;Quercus lobata&quot;
</code></pre></div>
<h2>end</h2>

<blockquote>
<p>That&#39;s it! Thanks for watching...</p>
</blockquote>

</article>


      <footer>
        <p>
          This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/deed.en_US">Creative Commons Attribution-NonCommercial 4.0 International License</a>.
        </p>
      </footer>
    </div>

    <!-- scripts -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/screencasts/public/js/jquery.fitvids.js"></script>
    <script>
      $(document).ready(function(){
        $("article").fitVids();
      });
    </script>
  </body>
  <footer>
  <script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '54ef85ebde2e2660bf00e187');
      t.src = '//secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>
</footer>

</html>
